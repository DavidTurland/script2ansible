#!/usr/bin/env perl
use Org::Turland::Custom qw(file_state); 
Org::Turland::Custom::file_state((path => '/tmp/wibble.txt'));
file_state((path => '/tmp/wobble.txt'));

my $filename = "/tmp/wibble.txt";
{
    my $str = 'hello world';
    my $fh = IO::File->new($filename, "w");
    print $fh $str;    
    $fh->close;
    rename($filename, "/tmp/wibble_renamed.txt") or die "Could not rename file: $!";
}
{
    open(FH, '>', $filename) or die "Could not open file '$filename' $!";
    print FH "My first report generated by perl\n";
    close(FH);
    print "done\n";
}

for my $file ( qw(/tmp/wibble2.txt /tmp/wibble_renamed2.txt) ) {
    open(FH, '>', $file) or die "Could not open file '$file' $!";
    print FH "My first report generated by perl\n";
    close(FH);
    print "done\n";
}
